<!doctype html><html lang=en class=h-100><head><title>Permissions | Mutagen</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" href=/img/favicon.png><link rel=apple-touch-icon sizes=114x114 href=/img/apple-touch-114.png><link rel=apple-touch-icon sizes=144x144 href=/img/apple-touch-144.png><script src=/js/bundle.18ed5611c09fa9cba6a2f11efb8ae4e4f57a0e7289515aa8e3ec64449fd0cdd7.js integrity="sha256-GO1WEcCfqcumovEe&#43;4rk5PV6DnKJUVqo4&#43;xkRJ/Qzdc="></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mukta|Roboto:300,400|Roboto+Mono"><link rel=stylesheet href=/css/bundle.952c27c90e48b6b24083f9bf60cbcd560d7e9f210dd98fec01fa37e24e74242d.css integrity="sha256-lSwnyQ5ItrJAg/m/YMvNVg1&#43;nyEN2Y/sAfo34k50JC0="></head><body class="d-flex flex-column h-100"><div class=flex-shrink-0><nav class="navbar navbar-expand-md navbar-light py-0"><div class=container><a class="navbar-brand mutagen-brand" href=/><img class="d-inline-block align-top logo" src=/img/logo.svg alt="Mutagen logo">
Mutagen</a>
<button class="navbar-toggler mr-2" type=button data-toggle=collapse data-target=#navigation-content aria-controls=navigation-content aria-expanded=false aria-label="Toggle navigation" style=border:none>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navigation-content><ul class="navbar-nav ml-auto"><li class="nav-item mr-3"><a class="nav-link text-dark" href=/documentation/introduction/installation>Install</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=/documentation>Documentation</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=https://spectrum.chat/mutagen target=_blank>Spectrum</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=https://twitter.com/mutagen_io target=_blank>Twitter</a></li><li class=nav-item><a class="nav-link text-dark" href=https://github.com/mutagen-io/mutagen target=_blank>GitHub</a></li></ul></div></div></nav><nav class="navbar navbar-expand-md navbar-dark bg-dark py-0"><div class=container><div class="collapse navbar-collapse" id=navigation-content><ul class="navbar-nav ml-auto"><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=introduction-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Introduction</a><div class=dropdown-menu aria-labelledby=introduction-dropdown><a class=dropdown-item href=/documentation/introduction>Overview</a>
<a class=dropdown-item href=/documentation/introduction/installation>Installation</a>
<a class=dropdown-item href=/documentation/introduction/getting-started>Getting started</a>
<a class=dropdown-item href=/documentation/introduction/daemon>Daemon</a>
<a class=dropdown-item href=/documentation/introduction/configuration>Configuration</a>
<a class=dropdown-item href=/documentation/introduction/names-labels-identifiers>Names, labels, and identifiers</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=transports-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Transports</a><div class=dropdown-menu aria-labelledby=transports-dropdown><a class=dropdown-item href=/documentation/transports>Overview</a>
<a class=dropdown-item href=/documentation/transports/local>Local</a>
<a class=dropdown-item href=/documentation/transports/ssh>SSH</a>
<a class=dropdown-item href=/documentation/transports/docker>Docker<sup>®</sup> containers</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=synchronization-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Synchronization</a><div class=dropdown-menu aria-labelledby=synchronization-dropdown><a class=dropdown-item href=/documentation/synchronization>Overview</a>
<a class=dropdown-item href=/documentation/synchronization/ignores>Ignores</a>
<a class=dropdown-item href=/documentation/synchronization/version-control-systems>Version control systems</a>
<a class=dropdown-item href=/documentation/synchronization/permissions>Permissions</a>
<a class=dropdown-item href=/documentation/synchronization/symbolic-links>Symbolic links</a>
<a class=dropdown-item href=/documentation/synchronization/watching>Watching</a>
<a class=dropdown-item href=/documentation/synchronization/probing-and-scanning>Probing and scanning</a>
<a class=dropdown-item href=/documentation/synchronization/staging>Staging</a>
<a class=dropdown-item href=/documentation/synchronization/size-limits>Size limits</a>
<a class=dropdown-item href=/documentation/synchronization/safety-mechanisms>Safety mechanisms</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=forwarding-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Forwarding</a><div class=dropdown-menu aria-labelledby=forwarding-dropdown><a class=dropdown-item href=/documentation/forwarding>Overview</a>
<a class=dropdown-item href=/documentation/forwarding/unix-domain-sockets>Unix domain sockets</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=orchestration-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Orchestration</a><div class=dropdown-menu aria-labelledby=orchestration-dropdown><a class=dropdown-item href=/documentation/orchestration>Overview</a>
<a class=dropdown-item href=/documentation/orchestration/configuration>Configuration</a>
<a class=dropdown-item href=/documentation/orchestration/example>Example</a></div></li></ul></div></div></nav><div class="container my-5"><div class=row><div class="d-none d-lg-block col-lg-3"><div class="sticky-top padded-sticky-top"><nav id=TableOfContents><ul><li><a href=#permissions>Permissions</a><ul><li><a href=#executability-propagation>Executability propagation</a></li><li><a href=#owners-and-groups>Owners and groups</a><ul><li><a href=#posix>POSIX</a></li><li><a href=#windows>Windows</a></li></ul></li><li><a href=#permissions-1>Permissions</a><ul><li><a href=#posix-1>POSIX</a></li><li><a href=#windows-1>Windows</a></li></ul></li></ul></li></ul></nav></div></div><div id=content class="col-md-12 col-lg-9 mb-3"><h1 id=permissions>Permissions</h1><p>Mutagen&rsquo;s permission synchronization model is designed around portability and
development work. Unlike many synchronization systems, Mutagen does not
propagate raw file ownership or permissions. Doing so is neither well-defined
nor safe in general. Instead, the only permission that Mutagen propagates is
POSIX executability. For any other files that Mutagen propagates or updates,
ownership and permissions are set using explicit configuration parameters.
Permissions for any other files in a synchronization root are left untouched by
Mutagen.</p><h2 id=executability-propagation>Executability propagation</h2><p>For development work, propagation and preservation of POSIX executability bits
is crucial, and as such they are only permissions that Mutagen aims to support
automatically. For filesystems that don&rsquo;t preserve executability bits (e.g.
those on Windows), preservation is emulated in-memory as part of the
reconciliation algorithm (as opposed to trying to attach metadata to files on
disk). This allows users to, e.g., edit POSIX shell scripts on Windows and have
those changes synchronized without wiping out executability bits.</p><p>Mutagen considers a file executable if any executability bit is set. When
setting permissions for an executable file, executability bits are set for any
entities that have a corresponding read bit set.</p><h2 id=owners-and-groups>Owners and groups</h2><p>By default, files and directories are created with their owner set to the user
under which Mutagen or its agent executable is operating and their group set to
that user&rsquo;s default group. Both of these behaviors are configurable.</p><p>Default ownership can be specified on a per-session and/or per-endpoint basis by
passing the <code>--default-owner=&lt;owner&gt;</code> or <code>--default-owner-(alpha|beta)=&lt;owner&gt;</code>
flag, respectively, to the <code>mutagen sync create</code> command. Default ownership can
be specified on a default per-session basis by including the following
configuration in <code>~/.mutagen.yml</code>:</p><pre><code>sync:
  defaults:
    permissions:
      defaultOwner: &quot;&lt;owner&gt;&quot;
</code></pre><p>Default groups can be specified on a per-session and/or per-endpoint basis by
passing the <code>--default-group=&lt;group&gt;</code> or <code>--default-group-(alpha|beta)=&lt;group&gt;</code>
flag, respectively, to the <code>mutagen sync create</code> command. Default groups can be
specified on a default per-session basis by including the following
configuration in <code>~/.mutagen.yml</code>:</p><pre><code>sync:
  defaults:
    permissions:
      defaultGroup: &quot;&lt;group&gt;&quot;
</code></pre><p>Owner and group specifications can be provided in three different formats:</p><ul><li>POSIX-ID-based: A string of the form <code>id:N</code>, where <code>N</code> is a number
representing the user or group ID. This is only supported for POSIX endpoints.</li><li>Windows-SID-based: A string of the form <code>sid:XXXXXXXXXX</code> where <code>XXXXXXXXXX</code> is
some valid Windows SID (the formats are highly variable). This is only
supported for Windows endpoints.</li><li>Name-based: A non-empty string that does not adhere to one of the above
formats is treated as a literal user or group name. This is supported on both
POSIX and Windows endpoints.</li></ul><p>Empty ownership specifications specify that the default ownership should be used
for the file (whatever that happens to be on the endpoint).</p><h3 id=posix>POSIX</h3><p>Please note that, on POSIX systems, superuser privileges are required to set
ownership to a user other that oneself, or to set a group to which one does not
belong.</p><h3 id=windows>Windows</h3><p>On Windows systems, setting file ownership to a group or another user requires
the <code>SeRestorePrivilege</code>, which has to be granted by a system administrator and
then requires that the requesting process activate that privilege. Mutagen
doesn&rsquo;t activate this privilege at the moment because having the
<code>SeRestorePrivilege</code> gives a process write access to an entire system (including
system files).</p><p>Setting group ownership on Windows also has essentially no effect, since group
information is a relic of POSIX support on Windows and isn&rsquo;t used by the Win32
subsystem.</p><h2 id=permissions-1>Permissions</h2><p>By default, files and directories have their permission bits set to user-only
access (<code>0600</code> and <code>0700</code>, respectively).</p><p>Default permissions can be specified on a per-session and/or per-endpoint basis
by passing the <code>--default-(file|directory)-mode=&lt;mode&gt;</code> or
<code>--default-(file|directory)-mode-(alpha|beta)=&lt;mode&gt;</code> flag, respectively, to the
<code>mutagen sync create</code> command. Default permissions can be specified on a default
per-session basis by including the following configuration in <code>~/.mutagen.yml</code>:</p><pre><code>sync:
  defaults:
    permissions:
      defaultFileMode: &lt;mode&gt;
      defaultDirectoryMode: &lt;mode&gt;
</code></pre><p>File and directory modes are specified in octal format with an optional <code>0</code>
prefix, e.g. <code>0644</code> or <code>750</code>. They default to <code>0600</code> for files and <code>0700</code> for
directories. File modes should not include executability bits since these are
managed by Mutagen.</p><h3 id=posix-1>POSIX</h3><p>Please note that default file and directory permissions are still subject to
<a href=https://en.wikipedia.org/wiki/Umask><code>umask</code></a>.</p><h3 id=windows-1>Windows</h3><p>At the moment, file and directory modes on Windows are processed as outlined in
the Go <a href=https://golang.org/pkg/os/#Chmod><code>os.Chmod</code></a> function.</p></div></div></div></div><footer class="mt-auto bg-dark py-4"><div class=container><div class=row><div class="col-md-4 my-3"><h6 class="text-white font-weight-bold mb-1">© 2016 – 2019 Mutagen IO, Inc.</h6><span class=text-light>All rights reserved.</span><br><strong><a class=text-success href=mailto:hello@mutagen.io>hello@mutagen.io</a></strong></div><div class=col-md-8><div class=row><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Resources</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=/documentation>Documentation</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://groups.google.com/forum/#!forum/mutagen-announce>Announcements</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://github.com/mutagen-io/mutagen/blob/master/SECURITY.md>Security</a></li></ul></div><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Legal</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=/legal/licenses>Licenses</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=/legal/third-party-trademarks>Third-party trademarks</a></li></ul></div><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Links</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=https://spectrum.chat/mutagen>Spectrum</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://twitter.com/mutagen_io>Twitter</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://github.com/mutagen-io/mutagen>GitHub</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=#>Top of page ▲</a></li></ul></div></div></div></div></div></footer></body></html>